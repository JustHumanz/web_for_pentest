FROM ubuntu:16.04
MAINTAINER JustHumanz	<humanz@justhumanz.me>
LABEL Description="Web for pentesting in docker image/file"

ENV DEBIAN_FRONTEND=noninteractive
RUN apt update
RUN apt install nano software-properties-common git unzip apache2 apache2-utils curl mariadb-server mariadb-client language-pack-en-base apt-utils iputils-ping -y
RUN locale-gen en_US.UTF-8
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US:en
RUN add-apt-repository --yes ppa:ondrej/php
RUN apt update
RUN apt-get install php5.6 php5.6-mbstring php5.6-mcrypt php5.6-mysql php5.6-xml php5.6-intl php5.6-intl php5.6-mbstring  php5.6-cli php5.6-gd php5.6-curl php5.6-sqlite3 libapache2-mod-php5.6	-y

COPY apachepentest.conf /etc/apache2/sites-enabled/000-default.conf
COPY web_for_pentest.sql /opt/
RUN rm -rf /var/www/html/
COPY www /var/www/
COPY start.sh /
RUN chmod +x start.sh

EXPOSE 80

ENTRYPOINT ["/start.sh"]
